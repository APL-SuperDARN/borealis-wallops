syntax = "proto3";

package processeddata;

message ProcessedData {
    uint32 sequence_num = 1;
    repeated OutputDataSet outputdataset = 2; // 1 set for every frequency
    float processing_time = 3;

    message OutputDataSet {
        repeated ComplexData mainacf = 1;
        repeated ComplexData intacf = 2;
        repeated ComplexData xcf = 3;
	uint32 numberofbeams = 4;
        repeated BeamData beamformedsamples = 5;
        repeated DebugData debugsamples = 7;

	message BeamData {
	    uint32 beamnum = 1;
	    repeated ComplexData mainsamples = 2;
	    repeated ComplexData intfsamples = 3;
	}

        message DebugData {
            string stagename = 1;
            repeated AntennaData antennadata = 2;
            message AntennaData {
                repeated ComplexData antennasamples = 1;
            }
        }

        message ComplexData {
            float real = 1;
            float imag = 2;
        }
    }
}
