syntax = "proto3";

package sigprocpacket;

message SigProcPacket {
    repeated RXChan rxchannel = 1; // REVIEW #28 spec?
    uint32 sequence_num = 2;
    double kerneltime = 3;
    float sequence_time = 4;
    float offset_to_first_rx_sample = 5;

    message RXChan {
        uint32 slice_id = 1;
        double rxfreq = 2; // REVIEW #28 Does this need to be a double?
        uint32 nrang = 3;
        float frang = 4;
        repeated BeamDirections beam_directions = 5;
        repeated LagPair lags = 6;

        message BeamDirections {
            repeated Phase phase = 1; /* must be length 20 */

            message Phase {
                double real_phase = 1;
                double imag_phase = 2;
            }
        }

        message LagPair {
            uint32 pulse_1 = 1;
            uint32 pulse_2 = 2;
            uint32 lag_num = 3;
        }
    }

}
